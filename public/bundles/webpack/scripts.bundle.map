{"version":3,"sources":["webpack:///./scripts.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"scripts.bundle.js","sourcesContent":["// import 'babel-polyfill';\r\n// import 'expose-loader?$!expose-loader?jQuery!jquery';\r\n// import selectize from 'selectize';\r\n// import device from 'device/device.js';\r\n// import timepicker from 'jquery-timepicker-master';\r\n//\r\n// let ww = $(window).width(),\r\n//     wh = $(window).height(),\r\n//     isMobile = $('body').hasClass('mobile'),\r\n//     __gtm = function(category, action, label, event = 'event') {\r\n//         dataLayer.push({\r\n//             'event': event,\r\n//             'event_category': category,\r\n//             'event_action': action,\r\n//             'event_label': label\r\n//         });\r\n//     },\r\n//     __getQueryParams = function(qs) {\r\n//         qs = qs.split('+').join(' ');\r\n//\r\n//         let params = {},\r\n//             tokens,\r\n//             re = /[?&]?([^=]+)=([^&]*)/g;\r\n//\r\n//         while (tokens = re.exec(qs)) {\r\n//             params[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]);\r\n//         }\r\n//\r\n//         return params;\r\n//     },\r\n//     __getRuRoute = function() {\r\n//         return window.location.href.indexOf('/ru') > 0 ? '/ru' : '';\r\n//     },\r\n//     __blockForm = function(form) {\r\n//         form.attr('data-xhr', true)\r\n//             .prop('disabled', true);\r\n//     },\r\n//     __unblockForm = function(form) {\r\n//         form.removeAttr('data-xhr')\r\n//             .prop('disabled', false);\r\n//     },\r\n//     __isBlockedForm = function(form) {\r\n//         return form.attr('data-xhr');\r\n//     },\r\n//     __showError = function(string){\r\n//         $('.modal').modal('hide');\r\n//         $('.jsModalErrorMessage').html(string);\r\n//         $('.jsModalError').modal('show');\r\n//     },\r\n//\r\n//     share = (function(){\r\n//         let Share = {\r\n//             popup: function (url) {\r\n//                 if (device.tablet() || device.mobile()) {\r\n//                     window.open(url, '_blank');\r\n//                 } else {\r\n//                     window.open(url, '', 'toolbar=0,status=0,width=626,height=436');\r\n//                 }\r\n//             }\r\n//         };\r\n//\r\n//         $(document).on('click', '.social a, .social .modal__social-icon', function() {\r\n//             let parent = $(this).parents('.social'),\r\n//                 url = '';\r\n//\r\n//             if ($(this).hasClass('vk')) {\r\n//                 url = 'http://vkontakte.ru/share.php?url=' + parent.attr('data-url') + '?source=vk';\r\n//             } else if ($(this).hasClass('fb')) {\r\n//                 url = 'https://www.facebook.com/dialog/feed?app_id=329274397421817&link=' + parent.attr('data-url') + '?source=fb';\r\n//             } else if ($(this).hasClass('ok')) {\r\n//                 url = 'https://connect.ok.ru/offer?url=' + parent.attr('data-url') + '?source=ok';\r\n//             }\r\n//\r\n//             Share.popup(url);\r\n//         });\r\n//\r\n//         $(document).on('submit', '.jsEmailShare', function(e) {\r\n//             e.preventDefault();\r\n//\r\n//             let form = $(this);\r\n//\r\n//             if (!__isBlockedForm(form)) {\r\n//                 __blockForm(form);\r\n//                 $.post(form.attr('action'), form.serialize(), function(out) {\r\n//                     form.find('textarea, input[type=\"email\"]').val('');\r\n//                     $('.jsModalShareEvent').modal('hide');\r\n//\r\n//                     __showError('Письмо отправлено'); // TODO: !!!TRANSLATION!!!\r\n//                     __gtm('ShareMail', 'click', 'Event');\r\n//                     __unblockForm(form);\r\n//\r\n//                 }, 'json').fail(function(out) {\r\n//                     __showError('При отправке письма возникли проблемы, попробуйте повторить действие еще раз.<br/><br/>' +\r\n//                         'При повторной ошибке свяжитесь с нами: <a href=\"mailto:expert@oriflame.com\">expert@oriflame.com</a>'); // TODO: !!!TRANSLATION!!!\r\n//                     __unblockForm(form);\r\n//                 });\r\n//             }\r\n//\r\n//         });\r\n//\r\n//         $(document).on('click', 'a[data-target=\".jsModalShareEvent\"]', function() {\r\n//             let form = $('.jsModalShareEvent form'),\r\n//                 event_id = $(this).attr('data-event'),\r\n//                 event_url = 'https://lifestyle.expert/map/events/' + event_id;\r\n//\r\n//             form.attr('action', $(this).attr('data-action'));\r\n//             $('.jsModalShareEvent .social').attr('data-url', event_url);\r\n//             $('.jsModalShareEvent .modal__share-link').val(event_url);\r\n//\r\n//         });\r\n//\r\n//     })(),\r\n//     testSubscribeForm = (function(){\r\n//         $('.jsTestSubscribeForm').submit(function(e){\r\n//             e.preventDefault();\r\n//\r\n//             let form = $(this);\r\n//\r\n//             if (!__isBlockedForm(form)) {\r\n//                 __blockForm(form);\r\n//                 $.post(form.attr('action'), form.serialize(), function (out) {\r\n//                     $('.jsModalSuccess').modal('show');\r\n//                     form.find(':not([type=\"hidden\"])').val('');\r\n//\r\n//                     __gtm('subscribe', 'click', 'testresults');\r\n//                     __unblockForm(form);\r\n//                 }, 'json').fail(function(xhr) {\r\n//                     let out = JSON.parse(xhr.responseText);\r\n//                     __showError(out.message);\r\n//                     __unblockForm(form);\r\n//                 });\r\n//             }\r\n//\r\n//         });\r\n//     })(),\r\n//     mainSubscribeForm = (function(){\r\n//         $('.jsHomeSubscribeForm').submit(function(e) {\r\n//             e.preventDefault();\r\n//\r\n//             let form = $(this),\r\n//                 form_id = +form.find('[name=\"form_id\"]').val();\r\n//\r\n//             if (!__isBlockedForm(form)) {\r\n//                 __blockForm(form);\r\n//                 $.post(form.attr('action'), form.serialize(), function (out) {\r\n//                     $('.modal__close').click();\r\n//                     $('.jsModalSuccess').modal('show');\r\n//                     form.find(':not([type=\"hidden\"])').val('');\r\n//\r\n//                     __gtm(form_id == 7 ? 'main-modal' : 'main-footer', 'click', 'subscribe');\r\n//                     __unblockForm(form);\r\n//\r\n//                 }, 'json').fail(function(xhr) {\r\n//                     let out = JSON.parse(xhr.responseText);\r\n//                     __showError(out.message); // TODO: !!!TRANSLATION!!!\r\n//                     __unblockForm(form);\r\n//                 });\r\n//             }\r\n//\r\n//\r\n//         });\r\n//     })(),\r\n//     mapSelects = (function(){\r\n//         let country = $('select[name=\"country\"], select.country_select'),\r\n//             city = $('select[name=\"city\"], select.city_select'),\r\n//             select_country, $select_country,\r\n//             select_city, $select_city,\r\n//             select_login_country, $select_login_country;\r\n//\r\n//         if(typeof __g_event !== 'undefined') {\r\n//             country.val(__g_event.country_id);\r\n//             city.val(__g_event.city_id);\r\n//         }\r\n//\r\n//         $select_city = city.selectize({\r\n//             maxOptions: 5000,\r\n//             valueField: 'id',\r\n//             labelField: 'name',\r\n//             searchField: ['name'],\r\n//             onChange: function(value) {\r\n//                 if (city.attr('data-map') == '1' && (city.val() > 0) || city.val() == 'all') {\r\n//                     $('header form').submit();\r\n//                 }\r\n//             }\r\n//         });\r\n//\r\n//         $select_country = country.selectize({\r\n//             valueField: 'id',\r\n//             labelField: 'name',\r\n//             searchField: ['name'],\r\n//             onChange: function(value) {\r\n//                 if (!value.length) {\r\n//                     return;\r\n//                 }\r\n//\r\n//                 let reload_fix = false;\r\n//\r\n//                 if (city.attr('data-map') == '1') {\r\n//                     reload_fix = true;\r\n//                     country.removeAttr('data-map');\r\n//                 }\r\n//\r\n//                 select_city.disable();\r\n//                 select_city.clearOptions();\r\n//                 select_city.load(function(callback) {\r\n//                     $.get(country.attr('data-action'), {country_id: value}, function(out){\r\n//                         let results = out.data;\r\n//                         select_city.enable();\r\n//\r\n//                         if (results.length > 0) {\r\n//                             callback(results);\r\n//                             select_city.setValue(results[0].id, false);\r\n//\r\n//                             if (reload_fix) {\r\n//                                 if (results.length > 1) {\r\n//                                     city.attr('data-map', '1');\r\n//                                 }\r\n//\r\n//                                 $('header form').submit();\r\n//                             }\r\n//                         }\r\n//\r\n//                     }, 'json');\r\n//\r\n//                 });\r\n//             }\r\n//         });\r\n//\r\n//         $select_login_country = $('select[name=\"login_country\"]').selectize({\r\n//             valueField: 'id',\r\n//             labelField: 'name',\r\n//             searchField: ['name'],\r\n//         });\r\n//\r\n//         select_city  = $select_city[0] ? $select_city[0].selectize : null;\r\n//         select_country = $select_country[0] ? $select_country[0].selectize : null;\r\n//         select_login_country = $select_login_country[0] ? $select_login_country[0].selectize : null;\r\n//\r\n//     })(),\r\n//     mapFavoriteButton = (function(){\r\n//         $(document).on('click', '.jsFavorite', function(e) {\r\n//             e.preventDefault();\r\n//\r\n//             let button = $(this);\r\n//\r\n//             if (!__isBlockedForm(button)) {\r\n//                 __blockForm(button);\r\n//                 $.post(button.hasClass('active') ? button.attr('data-remove-url') : button.attr('data-add-url'), function (out) {\r\n//                     if (out.status == 'success') {\r\n//                         button.toggleClass('active');\r\n//                     }\r\n//                     __unblockForm(button);\r\n//                 }, 'json');\r\n//             }\r\n//\r\n//             return false;\r\n//         });\r\n//     })(),\r\n//     mapShowMore = (function(){\r\n//         let buttonLoadMoreEvent = $('.jsMapMoreEvents');\r\n//\r\n//         buttonLoadMoreEvent.click(function(e) {\r\n//             e.preventDefault();\r\n//\r\n//             let page = buttonLoadMoreEvent.attr('data-page') ? buttonLoadMoreEvent.attr('data-page') : 2,\r\n//                 action = buttonLoadMoreEvent.attr('data-action'),\r\n//                 urlParams = __getQueryParams(document.location.search);\r\n//\r\n//             urlParams.page = page;\r\n//\r\n//             if (!urlParams.city) {\r\n//                 urlParams.country = 162;\r\n//                 urlParams.city = 'all';\r\n//             }\r\n//\r\n//             if($('#favorites').val()){\r\n//                 urlParams.favorites = 1;\r\n//             }\r\n//\r\n//             if (!buttonLoadMoreEvent.hasClass('update')) {\r\n//                 $(this).addClass('update');\r\n//\r\n//                 $.get(action, urlParams, function(out) {\r\n//                     if (out.status == 'success') {\r\n//                         $('.jsMapBody').append(out.data.cards);\r\n//                         buttonLoadMoreEvent.removeClass('update');\r\n//\r\n//                         if (out.data.events.next_page_url) {\r\n//                             buttonLoadMoreEvent.show().attr('data-page', Number(out.data.events.current_page) + 1);\r\n//                         } else {\r\n//                             buttonLoadMoreEvent.hide();\r\n//                         }\r\n//                     }\r\n//                 }, 'json');\r\n//             }\r\n//\r\n//         });\r\n//\r\n//     })(),\r\n//     mapSubscription = (function(){\r\n//         $('.jsModalEventSubscribe form').submit(function(e){\r\n//             e.preventDefault();\r\n//\r\n//             let form = $(this),\r\n//                 event_city = form.attr('data-event-city'),\r\n//                 event_name = form.attr('data-event-name'),\r\n//                 subscribe_form_number = form.hasClass('map-event-subscribe__inner') ? 1 : 0;\r\n//\r\n//             if (!__isBlockedForm(form)) {\r\n//                 __blockForm(form);\r\n//                 $.post(form.attr('action'), form.serialize(), function (out) {\r\n//                     $('.modal-subscribe').modal('hide');\r\n//                     $('.modal-subscribe-success').modal('show');\r\n//\r\n//                     form.find('input[type=\"text\"], input[type=\"email\"], input[type=\"tel\"]').val('');\r\n//\r\n//                     __gtm('Regist', 'click', subscribe_form_number ? 'Event' : 'Fast');\r\n//                     __gtm(subscribe_form_number ? 'event_regist' : 'event_fast_regist', event_city, event_name);\r\n//                     __unblockForm(form);\r\n//\r\n//                 }, 'json').fail(function(xhr) {\r\n//                     let out = JSON.parse(xhr.responseText);\r\n//                     __showError(out.message);\r\n//                     __unblockForm(form);\r\n//                 });\r\n//             }\r\n//\r\n//         });\r\n//\r\n//         $(document).on('click', 'a[data-target=\".jsModalEventSubscribe\"]', function() {\r\n//             let form = $('.jsModalEventSubscribe form');\r\n//\r\n//             form.attr('action', $(this).attr('data-action'))\r\n//                 .attr('data-event-city', $(this).attr('data-event-city'))\r\n//                 .attr('data-event-name', $(this).attr('data-event-name'));\r\n//         });\r\n//     })(),\r\n//     mapLoginForm = (function(){\r\n//         $('.jsAuthForm').submit(function(e){\r\n//             e.preventDefault();\r\n//\r\n//             let form = $(this),\r\n//                 is_valid = true,\r\n//                 country = form.find('[name=\"login_country\"]').val(),\r\n//                 host_cache = window.location.host.split('.'),\r\n//                 removeFirst = (host_cache[0].indexOf('oriflame') !== 0 && host_cache[0].indexOf('lifestyle') !== 0 ? host_cache.shift() : host_cache),\r\n//                 host_dest = (country != 'ru' ? country + '.' : '') + host_cache.join('.'),\r\n//                 domain = window.location.protocol + '//' + host_dest + __getRuRoute(),\r\n//                 form_action = domain + '/api/v3/auth'; // TODO: REWRITE\r\n//\r\n//             form.find('.error .error').html('');\r\n//             if (!form.find('#login_agree').is(':checked')) {\r\n//                 is_valid = false;\r\n//             }\r\n//\r\n//             if (is_valid && !__isBlockedForm(form)) {\r\n//                 __blockForm(form);\r\n//                 $.post(form_action, form.serialize(), function(out) {\r\n//                     __gtm('Enter', 'click', 'login');\r\n//                     window.location.href = out.data.redirect ? out.data.redirect : domain + '/account';\r\n//\r\n//                 }, 'json').fail(function(xhr) {\r\n//                     let out = JSON.parse(xhr.responseText);\r\n//                     form.find('#login_form_error').html(out.message);\r\n//                     __unblockForm(form);\r\n//\r\n//                 });\r\n//             } else {\r\n//                 form.find('#login_form_checkbox_error').html('Подтвердите свое согласие'); // TODO: !!!TRANSLATION!!!\r\n//             }\r\n//\r\n//         });\r\n//     })(),\r\n//     accountEventCreate = (function(){\r\n//         let moment = require('moment'),\r\n//             form = $('form[data-form=\"event\"]'),\r\n//             event_page = $('[data-page=\"event_edit_page\"]'),\r\n//             event_formats = [];\r\n//\r\n//         if (form.length) {\r\n//             setRequired(1);\r\n//             initStep2();\r\n//         }\r\n//\r\n//         if (event_page.length && typeof __g_event !== 'undefined') {\r\n//             setRequired();\r\n//\r\n//             $.each(__g_event, function(key, value) {\r\n//                 switch (key) {\r\n//                     case 'event_format_id':\r\n//                         initStep2(value);\r\n//                         break;\r\n//                     case 'event_spo_id':\r\n//                         $('[name=\"' + key + '\"]').prop('checked', value > 0);\r\n//                     case 'date_start':\r\n//                         $('[name=\"date_start\"]').val(moment(value).format('DD.MM.YYYY'));\r\n//                         $('[name=\"time_start\"]').val(moment(value).format('HH:mm'));\r\n//                         break;\r\n//                     case 'date_end':\r\n//                         $('[name=\"date_end\"]').val(moment(value).format('DD.MM.YYYY'));\r\n//                         $('[name=\"time_end\"]').val(moment(value).format('HH:mm'));\r\n//                         break;\r\n//                     case 'price_type':\r\n//                         $('[name=\"price_type\"]').val(value);\r\n//                         $('.jsEventPriceToggle[data-price-type=\"' + value + '\"]').parent().addClass('active').siblings().removeClass('active');\r\n//                         break;\r\n//                     default:\r\n//                         $('[name=\"' + key + '\"]').val(value);\r\n//                 }\r\n//             });\r\n//\r\n//             $('form.jsEditEventForm').submit(function(e){\r\n//                 e.preventDefault();\r\n//\r\n//                 let form = $(this),\r\n//                     modal = form.parents('.modal'),\r\n//                     step = +modal.find('[data-step-event]').attr('data-step-event');\r\n//\r\n//                 if (validForm(step)) {\r\n//                     modal.find('.modal-event__foot button').prop('disabled', true);\r\n//\r\n//                     if (!__isBlockedForm(form)) {\r\n//                         __blockForm(form);\r\n//                         $.post(event_page.attr('data-action'), form.serialize(), function (out) {\r\n//                             if (out.status == 'success') {\r\n//                                 $('.jsEditFormModal').modal('hide');\r\n//\r\n//                                 __showError('Изменения сохранены'); //TODO: !!!TRANSLATION!!!\r\n//\r\n//                                 setTimeout(function () {\r\n//                                     window.location.reload()\r\n//                                 }, 1500);\r\n//\r\n//                             }\r\n//                         }, 'json');\r\n//                     }\r\n//                 }\r\n//\r\n//             });\r\n//\r\n//             $('.jsTimepicker').timepicker({\r\n//                 timeFormat: 'H:i',\r\n//                 step: 60,\r\n//             });\r\n//         }\r\n//\r\n//         form.submit(function(e){\r\n//             if (!form.attr('data-submit')) {\r\n//                 e.preventDefault();\r\n//\r\n//                 let step = getCurrentFormStep();\r\n//                 if (form[0].checkValidity() && validForm(step)) {\r\n//                     __gtm('CreateStep' + step, 'click', 'LKevents');\r\n//\r\n//                     if (step < 4) {\r\n//                         step++;\r\n//                         reInitFormStep(step);\r\n//                     } else {\r\n//                         $('.event-create__button').prop('disabled', true);\r\n//                         form.attr('data-submit', 'submit');\r\n//                         form.submit();\r\n//                     }\r\n//                 }\r\n//             }\r\n//         });\r\n//\r\n//         $('.jsEventFormBack').click(function(){\r\n//             let step = getCurrentFormStep();\r\n//             if (step > 1) {\r\n//                 step--;\r\n//                 reInitFormStep(step);\r\n//             }\r\n//         });\r\n//\r\n//         $(document).on('click', '[data-content=\"event_formats\"] li', function(e){\r\n//             e.preventDefault();\r\n//\r\n//             if (!$(this).hasClass('disabled')) {\r\n//                 let key = $(this).attr('data-key');\r\n//                 initStep2Inner(key);\r\n//\r\n//                 $('[data-content=\"event_formats\"] li').removeClass('active');\r\n//                 $(this).addClass('active');\r\n//             }\r\n//         });\r\n//\r\n//         $(document).on('click', '.jsSliderEventCoverType', function(e){\r\n//             e.preventDefault();\r\n//\r\n//             let indexCover = $(this).parent().index();\r\n//             $(this).parent().addClass('active').siblings().removeClass('active');\r\n//             $('[name=\"image\"]').val($(this).attr('data-image'));\r\n//         });\r\n//\r\n//         $(document).on('click', '.jsEventFormDescEdit', function(){\r\n//             $(this).hide();\r\n//             $(this).parent().siblings('textarea').removeAttr('readonly').focus();\r\n//             $(this).closest('.readonly').removeClass('readonly');\r\n//             return false;\r\n//         });\r\n//\r\n//         $(document).on('click', '.jsEventPriceToggle', function(){\r\n//             let index = $(this).parent().index();\r\n//             $(this).parent().addClass('active').siblings().removeClass('active');\r\n//             $('[name=\"price_type\"]').val($(this).attr('data-price-type'));\r\n//             return false;\r\n//         });\r\n//\r\n//         function getCurrentFormStep() {\r\n//             return +form.find('.event-create__pagination ul li.active a').html();\r\n//         }\r\n//\r\n//         function setRequired(step) {\r\n//             if (step) {\r\n//                 form.find('[data-required]').prop('required', false);\r\n//                 form.find('[data-step-event=\"' + step + '\"] [data-required]').prop('required', true);\r\n//             } else {\r\n//                 $('[data-required]').prop('required', true);\r\n//             }\r\n//\r\n//         }\r\n//\r\n//         function reInitFormStep(step) {\r\n//             $('.jsEventFormStage').removeClass('active');\r\n//             form.find('[data-step-event=\"' + step + '\"]').addClass('active');\r\n//\r\n//             form.find('.event-create__pagination ul li').removeClass('active');\r\n//             form.find('.event-create__pagination ul li:nth-child(' + step + ')').addClass('active');\r\n//\r\n//             setRequired(step);\r\n//\r\n//             if (step == 1) {\r\n//                 $('.jsEventFormBack').addClass('hidden');\r\n//             } else {\r\n//                 $('.jsEventFormBack').removeClass('hidden');\r\n//             }\r\n//         }\r\n//\r\n//         function validForm(step) {\r\n//             let isRequiredEmpty = true;\r\n//\r\n//             form.find('input[required]').each(function(){\r\n//                 if (!/[^\\s]/.test($(this).val())) {\r\n//                     isRequiredEmpty = false;\r\n//                     return false;\r\n//                 }\r\n//             });\r\n//\r\n//             if (!isRequiredEmpty) {\r\n//                 __showError(\"Обязательные поля не могут быть пустым\"); // TODO: !!!TRANSLATION!!!\r\n//                 return false;\r\n//             }\r\n//\r\n//             if (step == 2) {\r\n//                 if (!$('[name=\"event_type_id\"]').val()) {\r\n//                     __showError(\"Тип мероприятия не может быть пустым\"); // TODO: !!!TRANSLATION!!!\r\n//                     return false;\r\n//                 }\r\n//             }\r\n//\r\n//             if (step == 4) {\r\n//                 let event_format_id = $('[name=\"event_format_id\"]').val(),\r\n//                     event_type_id = $('[name=\"event_type_id\"]').val(),\r\n//                     restricted = null,\r\n//                     now = new Date(),\r\n//                     date_start = $('input[name=\"date_start\"]').val(),\r\n//                     date_end = $('input[name=\"date_end\"]').val(),\r\n//                     time_start = $('input[name=\"time_start\"]').val(),\r\n//                     time_end = $('input[name=\"time_end\"]').val(),\r\n//                     d_cache = isMobile ? date_start.split('-') : date_start.split('.'),\r\n//                     d_cache2 = isMobile ? date_end.split('-') : date_end.split('.'),\r\n//                     datetime_start = new Date((isMobile ? [d_cache[0], d_cache[1], d_cache[2]] : [d_cache[2], d_cache[1], d_cache[0]]).join('-') + 'T' + time_start + ':00'),\r\n//                     datetime_end = new Date((isMobile ? [d_cache2[0], d_cache2[1], d_cache2[2]] : [d_cache2[2], d_cache2[1], d_cache2[0]]).join('-') + 'T' + time_end + ':00');\r\n//\r\n//                 if (!date_start || !date_end || !time_start || !time_end || !datetime_start || !datetime_end) {\r\n//                     __showError(\"Введены неверные значения даты и времени проведения меропрития\"); // TODO: !!!TRANSLATION!!!\r\n//                     return false;\r\n//                 }\r\n//\r\n//                 if (datetime_start.getTime() >= datetime_end.getTime()) {\r\n//                     __showError(\"Дата начала мероприятия не может быть позже даты окончания\"); // TODO: !!!TRANSLATION!!!\r\n//                     return false;\r\n//                 }\r\n//\r\n//                 $.each(event_formats, function(key, event_format){\r\n//                     if (event_format.id == event_format_id) {\r\n//                         $.each(event_format.event_types, function(key, event_type) {\r\n//                             if (event_type.id == event_type_id) {\r\n//                                 if (event_type.is_restricted) {\r\n//                                     restricted = {\r\n//                                         date_start: new Date(event_type.event_date_start),\r\n//                                         date_end: new Date(event_type.event_date_end),\r\n//                                     };\r\n//                                 }\r\n//\r\n//                                 return false;\r\n//                             }\r\n//                         });\r\n//\r\n//                         return false;\r\n//                     }\r\n//                 });\r\n//\r\n//                 if (restricted) {\r\n//                     if (datetime_start.getTime() < restricted.date_start.getTime() || datetime_end.getTime() > restricted.date_end.getTime()) {\r\n//                         __showError(\"Мероприятия данного типа могут проводиться в период с  \" + new Date(start_date_restriction).toISOString().slice(0, 10) + \" по \" + new Date(finish_date_restriction).toISOString().slice(0, 10)); // TODO: !!!TRANSLATION!!!\r\n//                         return false;\r\n//                     }\r\n//                 }\r\n//\r\n//                 if (Math.ceil((datetime_start.getTime() - now.getTime()) / (1000 * 3600)) < 48) {\r\n//                     __showError(\"Мероприятие не может быть создано менее, чем за 48 часов до начала мероприятия\"); // TODO: !!!TRANSLATION!!!\r\n//                     return false;\r\n//                 }\r\n//\r\n//                 if(!$('[name=\"country_id\"]').val() || !$('[name=\"city_id\"]').val()) {\r\n//                     __showError(\"Неверно заполнен адрес\"); // TODO: !!!TRANSLATION!!!\r\n//                     return false;\r\n//                 }\r\n//\r\n//                 if ($('input[name=\"address_street\"]').val().indexOf(',') > 0 || $('input[name=\"address_house\"]').val().indexOf(',') > 0) {\r\n//                     __showError(\"Неверно заполнен адрес\"); // TODO: !!!TRANSLATION!!!\r\n//                     return false;\r\n//                 }\r\n//\r\n//             }\r\n//\r\n//             return true;\r\n//         }\r\n//\r\n//         function initStep2(format_id = 0) {\r\n//             let stage = $('[data-step-event=\"2\"]'),\r\n//                 action = stage.attr('data-action'),\r\n//                 initial_step = 0;\r\n//\r\n//             $.get(action, function(out){\r\n//                 if (out.status == 'success') {\r\n//                     event_formats = out.data;\r\n//\r\n//                     $.each(event_formats, function(key, event_format) {\r\n//                         $('[data-content=\"event_formats\"]').append(`\r\n//                             <li class=\"${event_format.css_class} ${event_format.is_active == 2 ? 'disabled' : ''} ${(format_id == 0 && key == 0) || event_format.id == format_id ? ' active ' : ''}\" data-format-id=\"${event_format.id}\" data-key=\"${key}\">\r\n//                                 <a href=\"#\"><i class=\"${event_format.css_class}\"></i><span>${event_format.name}</span></a>\r\n//                             </li>\r\n//                         `);\r\n//\r\n//                         if (event_format.id == format_id) {\r\n//                             initial_step = key;\r\n//                         }\r\n//                     });\r\n//\r\n//                     initStep2Inner(initial_step);\r\n//                     $('.event-create__button').prop('disabled', false);\r\n//                 }\r\n//             }, 'json');\r\n//         }\r\n//\r\n//         function initStep2Inner(event_format_key) {\r\n//             let stage = $('[data-step-event=\"2\"]'),\r\n//                 event_format = event_formats[event_format_key],\r\n//                 event_types = $('[data-content=\"event_types\"]'),\r\n//                 event_description = $('[data-content=\"event_description\"]'),\r\n//                 event_usps = $('[data-content=\"event_usps\"]');\r\n//\r\n//             stage.find('[name=\"event_format_id\"]').val(event_format.id);\r\n//\r\n//             // Event Type\r\n//             event_types.html('<select class=\"event_type\" name=\"event_type_id\" ></select>');\r\n//             $.each(event_format.event_types, function(key, event_type){\r\n//                 let is_restricted = event_type.is_restricted;\r\n//\r\n//                 if (is_restricted) {\r\n//                     let create_start = new Date(event_type.create_date_start),\r\n//                         create_end = new Date(event_type.create_date_end),\r\n//                         now = new Date();\r\n//\r\n//                     if ((!create_start || now.getTime() >= create_start.getTime()) && (!create_end || now.getTime() <= create_end.getTime())) {\r\n//                         is_restricted = 0;\r\n//                     }\r\n//                 }\r\n//\r\n//                 if (event_type.is_active && is_restricted == 0) {\r\n//                     event_types.find('select').append(`\r\n//                         <option value=\"${event_type.id}\" ${typeof __g_event !== 'undefined' && __g_event.event_type_id && __g_event.event_type_id == event_type.id ? 'selected' : ''}>${event_type.name}</option>\r\n//                     `);\r\n//                 }\r\n//             });\r\n//\r\n//             documentLink(event_format_key, event_types.find('select').val());\r\n//             coversImage(event_format_key, event_types.find('select').val());\r\n//\r\n//             event_types.find('select').selectize({\r\n//                 valueField: 'id',\r\n//                 labelField: 'name',\r\n//                 searchField: ['name'],\r\n//                 onChange: function(value) {\r\n//                     documentLink(event_format_key, value);\r\n//                     coversImage(event_format_key, value);\r\n//                 }\r\n//             });\r\n//\r\n//             // Event Description\r\n//             event_description.val(typeof __g_event !== 'undefined' && __g_event.description ? __g_event.description : event_format.description);\r\n//             event_description.prop('readonly', true);\r\n//             event_description.parents('.form__group').addClass('readonly');\r\n//             event_description.parents('.form__group').find('.jsEventFormDescEdit').show();\r\n//\r\n//             // Event USP\r\n//             event_usps.html('');\r\n//             $.each(event_format.usps, function(key, usp){\r\n//                 let is_checked = false;\r\n//\r\n//                 if (typeof __g_event !== 'undefined' && __g_event.usps) {\r\n//                     $.each(__g_event.usps, function(key, event_usp){\r\n//                         if (event_usp.event_usp_id == usp.id) {\r\n//                             is_checked = true;\r\n//                             return false;\r\n//                         }\r\n//                     });\r\n//                 }\r\n//\r\n//                 event_usps.append(`\r\n//                     <div class=\"checkbox-form__input\">\r\n//                         <input type=\"checkbox\" id=\"usp_${usp.id}\" name=\"usp[]\" value=\"${usp.id}\" ${is_checked ? ' checked ' : ''} />\r\n//                         <label for=\"usp_${usp.id}\">${usp.name}</label>\r\n//                     </div>\r\n//                 `);\r\n//             });\r\n//\r\n//             let user_usps = [];\r\n//             if (typeof __g_event !== 'undefined' && __g_event.usps) {\r\n//                 $.each(__g_event.usps, function(key, event_usp){\r\n//                     if (event_usp.name) {\r\n//                         user_usps.push(event_usp.name);\r\n//                     }\r\n//                 });\r\n//             }\r\n//\r\n//             for(let i = 0; i < 12; i++) {\r\n//                 event_usps.append(`\r\n//                     <div class=\"checkbox-form__input ${!user_usps[i] ? ' checkbox-form__input_hidden ' : ''} jsEventCheckbox\">\r\n//                         <input type=\"hidden\" name=\"add_usps[${i}]\" value=\"${user_usps[i] ? user_usps[i] : ''}\" />\r\n//                         <input type=\"checkbox\" checked disabled id=\"add_usp_${i}\" />\r\n//                         <label for=\"add_usp_${i}\">${user_usps[i] ? user_usps[i] : ''}</label>\r\n//                         <span class=\"checkbox-form__input-delete jsEventCheckboxRemove\">Удалить</span>\r\n//                     </div>\r\n//                 `);\r\n//                 // TODO: !!!TRANSLATION!!!\r\n//             }\r\n//\r\n//             $('.jsEventFormTypeItem').show();\r\n//         }\r\n//\r\n//         function documentLink(event_format_key, event_type_id) {\r\n//             let event_format = event_formats[event_format_key],\r\n//                 event_type_documents_download = $('[data-content=\"event_type_documents_download\"]'),\r\n//                 locale_id = +$('[data-step-event=\"2\"]').attr('data-locale-id'),\r\n//                 show_link = false;\r\n//\r\n//             $.each(event_format.event_types, function(key, event_type) {\r\n//                 if (event_type.id == event_type_id) {\r\n//                     event_type_documents_download.attr('href', event_type.document_link);\r\n//                     $.each(event_type.documents_active, function(key, document) {\r\n//                         $.each(document.locales, function(key, locale) {\r\n//                             if (locale_id == locale.locale_id) {\r\n//                                 show_link = true;\r\n//                                 return false;\r\n//                             }\r\n//                         });\r\n//\r\n//                         if (show_link) {\r\n//                             return false;\r\n//                         }\r\n//                     });\r\n//                 }\r\n//             });\r\n//\r\n//             if (show_link) {\r\n//                 event_type_documents_download.show();\r\n//             } else {\r\n//                 event_type_documents_download.hide();\r\n//             }\r\n//\r\n//         }\r\n//\r\n//         function coversImage(event_format_key, event_type_id){\r\n//             let event_format = event_formats[event_format_key],\r\n//                 slider = $('[data-content=\"image\"]');\r\n//\r\n//             slider.html('');\r\n//             slider.prepend(`\r\n//                 <div class=\"swiper-container\">\r\n//                     <div class=\"swiper-wrapper\"></div>\r\n//                 </div>\r\n//             `);\r\n//\r\n//             $.each(event_format.event_types, function(key, event_type) {\r\n//                 if (event_type.id == event_type_id) {\r\n//                     $.each(event_type.covers, function(key, cover){\r\n//                         slider.find('.swiper-wrapper').append(`\r\n//                             <div class=\"swiper-slide\">\r\n//                                 <a class=\"jsSliderEventCoverType\" href=\"#\" style=\"background-image: url('${cover}');\" data-image=\"${cover}\"></a>\r\n//                             </div>\r\n//                         `);\r\n//                     });\r\n//                 }\r\n//             });\r\n//\r\n//             if (typeof __g_event !== 'undefined') {\r\n//                 let slide = slider.find('.swiper-wrapper .swiper-slide .jsSliderEventCoverType[data-image=\"' + __g_event.image + '\"]');\r\n//                 if (slide.length) {\r\n//                     slide.click();\r\n//                 } else {\r\n//                     slider.find('.swiper-wrapper .swiper-slide').first().find('.jsSliderEventCoverType').click();\r\n//                 }\r\n//             } else {\r\n//                 slider.find('.swiper-wrapper .swiper-slide').first().find('.jsSliderEventCoverType').click();\r\n//             }\r\n//\r\n//             let swiper = new Swiper ($('.jsSliderEventCover .swiper-container'), {\r\n//                 slidesPerView: 'auto',\r\n//                 observer: true,\r\n//                 observeParents: true,\r\n//                 navigation: {\r\n//                     nextEl: $('.jsSliderEventCover .swiper-next'),\r\n//                     prevEl: $('.jsSliderEventCover .swiper-prev'),\r\n//                 }\r\n//             });\r\n//\r\n//         }\r\n//\r\n//     })(),\r\n//     accountMembers = (function(){\r\n//\r\n//         // TODO: ADD MEMBER SUBMIT - GTM\r\n//\r\n//\r\n//\r\n//         $('.jsAccountMembersCheckAll').click(function(e){\r\n//             e.preventDefault();\r\n//\r\n//             $('.lk-members__table-event tbody tr').addClass('checked');\r\n//             $('.lk-members__table-event tbody tr:not(.caption)').addClass('active');\r\n//             $('.lk-members__table-event tbody tr [type=\"checkbox\"]').prop('checked', true);\r\n//\r\n//             checkMembersDeleteButton();\r\n//         });\r\n//\r\n//         $('.lk-members__table-event tbody tr').click(function(){\r\n//             if ($(this).hasClass('checked') || $(this).hasClass('active')) {\r\n//                 $(this).removeClass('checked');\r\n//                 $(this).removeClass('active');\r\n//                 $(this).find('[type=\"checkbox\"]').prop('checked', false);\r\n//             } else {\r\n//                 $(this).addClass('checked');\r\n//                 $(this).find('[type=\"checkbox\"]').prop('checked', true);\r\n//\r\n//                 if (!$(this).hasClass('caption')) {\r\n//                     $(this).addClass('active');\r\n//                 }\r\n//             }\r\n//\r\n//             checkMembersDeleteButton();\r\n//         });\r\n//\r\n//         $('.lk-members__controls .remove').click(function(){\r\n//             var array_members = [];\r\n//\r\n//             $('.lk-members__table-event tbody tr [type=\"checkbox\"]:checked').each(function(){\r\n//                 array_members.push(+$(this).attr('data-id'));\r\n//             });\r\n//\r\n//             $('.lk-members__table-event tbody tr.active').each(function(){\r\n//                 array_members.push(+$(this).attr('data-id'));\r\n//             });\r\n//\r\n//             if (array_members.length > 0) {\r\n//                 $(\".jsModalConfirmMembersDelete\").modal(\"show\");\r\n//                 $(\".jsModalConfirmMembersDelete [name='members']\").val(array_members.join(','));\r\n//             }\r\n//\r\n//             return false;\r\n//         });\r\n//\r\n//         $(\".jsModalConfirmMembersDelete .jsModalConfirmYes\").click(function() {\r\n//             let form = $(this).parents('form');\r\n//\r\n//             if (!__isBlockedForm(form)) {\r\n//                 __blockForm(form);\r\n//                 $.post(form.attr('action'), form.serialize(), function () {\r\n//                     __gtm($('.lk-members .lk-members__nav li.__gRegistered').hasClass('active') ? 'RegistDel' : 'VisitedDel', 'click', 'LKmembers');\r\n//                     window.location.reload();\r\n//                 });\r\n//             }\r\n//         });\r\n//\r\n//         $(\".jsModalConfirmMembersDelete .jsModalConfirmNo\").click(function(){\r\n//             $(\".jsModalConfirmMembersDelete\").modal(\"hide\");\r\n//         });\r\n//\r\n//         function checkMembersDeleteButton() {\r\n//             if ($('.lk-members__table-event tbody tr [type=\"checkbox\"]:checked').length > 0 || $('.lk-members__table-event tbody tr.active').length > 0) {\r\n//                 $('.lk-members__controls .remove').show();\r\n//             } else {\r\n//                 $('.lk-members__controls .remove').hide();\r\n//             }\r\n//         }\r\n//     })(),\r\n//     accountPublication = (function(){\r\n//         $('.eventPublicate').click(function(e){\r\n//             e.preventDefault();\r\n//\r\n//             let button = $(this);\r\n//\r\n//             if (!__isBlockedForm(button)) {\r\n//                 __blockForm(button);\r\n//                 $.post($(this).attr('data-action'), function (out) {\r\n//                     $('.jsModalEventPublished').modal('show');\r\n//                     __unblockForm(button);\r\n//                 }, 'json').fail(function(xhr) {\r\n//                     let out = JSON.parse(xhr.responseText);\r\n//                     __showError(out.message);\r\n//                     __unblockForm(form);\r\n//                 });\r\n//             }\r\n//\r\n//         });\r\n//     })(),\r\n//     accountEventDelete = (function(){\r\n//         $('.eventRemove').click(function(e){\r\n//             e.preventDefault();\r\n//             $('.jsModalEventDelete .button-default').attr('href', $(this).attr('data-action'));\r\n//             $(\".jsModalEventDelete\").modal(\"show\");\r\n//         });\r\n//\r\n//     })(),\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//     allGTM = (function(){\r\n//         var jQueryReady = function() {\r\n//             if (typeof $ !== 'function') return;\r\n//             clearInterval(timer);\r\n//\r\n//             $('.lang__list li a').click(function () {\r\n//                 __gtm('LangChange', 'click', 'MapHi');\r\n//             });\r\n//\r\n//             $('.lk-landing-tabs__head .__gFindEvent a').click(function () {\r\n//                 __gtm('FindeEvent', 'switch', 'MapHi');\r\n//             });\r\n//\r\n//             $('.lk-landing-tabs__head .__gCreateEvent a').click(function () {\r\n//                 __gtm('CreateEvent', 'switch', 'MapHi');\r\n//             });\r\n//\r\n//             $('.lk-landing-tabs__head .__gLk a, .lk-landing .__gLkMobile a').click(function () {\r\n//                 __gtm('LK', 'switch', 'MapHi');\r\n//             });\r\n//\r\n//             $('button.lk-landing-map__button').click(function () {\r\n//                 var country = $('.lk-landing-map__item .country option').attr('value');\r\n//\r\n//                 switch (country) {\r\n//                     case '4':\r\n//                         __gtm('AZ', 'search', 'MapHi');\r\n//                         break;\r\n//                     case '15':\r\n//                         __gtm('AM', 'search', 'MapHi');\r\n//                         break;\r\n//                     case '23':\r\n//                         __gtm('BU', 'search', 'MapHi');\r\n//                         break;\r\n//                     case '60':\r\n//                         __gtm('GE', 'search', 'MapHi');\r\n//                         break;\r\n//                     case '82':\r\n//                         __gtm('KZ', 'search', 'MapHi');\r\n//                         break;\r\n//                     case '91':\r\n//                         __gtm('KG', 'search', 'MapHi');\r\n//                         break;\r\n//                     case '126':\r\n//                         __gtm('MD', 'search', 'MapHi');\r\n//                         break;\r\n//                     case '128':\r\n//                         __gtm('MN', 'search', 'MapHi');\r\n//                         break;\r\n//                     case '162':\r\n//                         __gtm('RU', 'search', 'MapHi');\r\n//                         break;\r\n//                     case '204':\r\n//                         __gtm('UA', 'search', 'MapHi');\r\n//                         break;\r\n//                 }\r\n//             });\r\n//\r\n//             $('.lk-landing-tabs__item .__gCreateEvent').click(function () {\r\n//                 __gtm('CreateEvent', 'click', 'MapHi');\r\n//             });\r\n//\r\n//             $('.header-inside .country select, .lk_map .jsMobileSearch .country select').change(function() {\r\n//                 __gtm('Country', 'change', 'Header');\r\n//             });\r\n//\r\n//             $('.header-inside .city select, .lk_map .jsMobileSearch .city select').change(function() {\r\n//                 __gtm('City', 'change', 'Header');\r\n//             });\r\n//\r\n//             $('.header-inside__button.__gFavorite, .nav-mobile .__gFavorite').click(function () {\r\n//                 __gtm('Favorites', 'click', 'Header');\r\n//             });\r\n//\r\n//             $('.header-inside__button.__gLk, .nav-mobile .__gLk').click(function () {\r\n//                 __gtm('Lk', 'click', 'Header');\r\n//             });\r\n//\r\n//             $('.header-lk a.logo').click(function () {\r\n//                 __gtm('MapHi', 'click', 'Header');\r\n//             });\r\n//\r\n//             $(document).on('click', '.event-card-button .vk', function() {\r\n//                 __gtm('ShareVK', 'click', 'Any');\r\n//             });\r\n//\r\n//             $('.jsModalShareEvent .vk').click(function () {\r\n//                 __gtm('ShareVK', 'click', 'Any');\r\n//             });\r\n//\r\n//             $(document).on('click', '.event-card-button .fb', function() {\r\n//                 __gtm('ShareFB', 'click', 'Any');\r\n//             });\r\n//\r\n//             $('.jsModalShareEvent .fb').click(function () {\r\n//                 __gtm('ShareFB', 'click', 'Any');\r\n//             });\r\n//\r\n//             $(document).on('click', '.event-card-button .ok', function() {\r\n//                 __gtm('ShareOK', 'click', 'Any');\r\n//             });\r\n//\r\n//             $('.jsModalShareEvent .ok').click(function () {\r\n//                 __gtm('ShareOK', 'click', 'Any');\r\n//             });\r\n//\r\n//             $('.event-card-button .event-card-button__favorite').click(function() {\r\n//                 if ($(this).hasClass('active')) {\r\n//                     __gtm('FavoritsOff', 'click', 'Any');\r\n//                 } else {\r\n//                     __gtm('Favorites', 'click', 'Any');\r\n//                 }\r\n//             });\r\n//\r\n//             //Страница \"Карта мероприятий\"\r\n//\r\n//             $('.filter .filter-search button, .lk_map .jsMobileSearch .search__body .search__button').click(function () {\r\n//                 __gtm('Events', 'search', 'Map');\r\n//             });\r\n//\r\n//             $('.filter-extended .filter-extended__button.reset, .map .filter .filter__reset').click(function () {\r\n//                 __gtm('FilterClear', 'click', 'Map');\r\n//             });\r\n//\r\n//             $('.filter-extended .filter-extended__button.submit, .map .filter .filter__button').click(function () {\r\n//                 __gtm('Filter', 'click', 'Map');\r\n//             });\r\n//\r\n//             $('.event-card a.event-card__pic, .event-card a.event-card__name').click(function(){\r\n//                 __gtm('EventCard', 'click', 'Map');\r\n//             });\r\n//\r\n//             $('.map-google a.map-info').click(function () {\r\n//                 __gtm('EventsMap', 'click', 'Map');\r\n//             });\r\n//\r\n//             //Страница login\r\n//\r\n//             $('.lk-auth .lk-auth__link, .jsModalLogin .lk-auth__link').click(function () {\r\n//                 __gtm('Regist', 'click', 'login');\r\n//             });\r\n//\r\n//             //Страница Личный кабинет\r\n//\r\n//             $('.lk__header .header-lk__exit, .header-mobile .header-mobile__exit').click(function () {\r\n//                 __gtm('Exit', 'click', 'LK');\r\n//             });\r\n//\r\n//             $('.header-mobile .header-mobile__view').click(function () {\r\n//                 __gtm('ExitMap', 'click', 'LK');\r\n//             });\r\n//\r\n//             //Страница ЛК \"Мои мероприятия\"\r\n//\r\n//             $('.lk__content a.lk-head__button').click(function () {\r\n//                 __gtm('Create', 'click', 'LKevents');\r\n//             });\r\n//\r\n//             $('.lk__content .event-card-control__button.edit').click(function () {\r\n//                 __gtm('Change', 'click', 'LKevents');\r\n//             });\r\n//\r\n//             $(\".jsModalEventDelete .button-default\").click(function(){\r\n//                 __gtm('Del', 'click', 'LKevents');\r\n//             });\r\n//\r\n//             $('.lk__content .event-card-control__button.edit-photo').click(function () {\r\n//                 __gtm('AddPhoto', 'click', 'LKevents');\r\n//             });\r\n//\r\n//             //Страница ЛК \"Участники мероприятия\"\r\n//\r\n//             $('.__gLkMembers .lk-members__table tbody tr, .__gLkMembersMobile .lk-members__table .lk-members__link').click(function () {\r\n//\r\n//                 if ($('.lk-members .lk-members__nav li.__gActual').hasClass('active')) {\r\n//                     __gtm('Actual', 'click', 'LKmembers');\r\n//                 } else if ($('.lk-members .lk-members__nav li.__gArchive').hasClass('active')) {\r\n//                     __gtm('Archive', 'click', 'LKmembers');\r\n//                 }\r\n//             });\r\n//\r\n//             $('.lk-members .lk-members__controls .download').click(function () {\r\n//                 if ($('.lk-members .lk-members__nav li.__gRegistered').hasClass('active')) {\r\n//                     __gtm('RegistDonwload', 'click', 'LKmembers');\r\n//                 }\r\n//             });\r\n//\r\n//             $('.lk-members .lk-members__controls .upload').click(function () {\r\n//                 if ($('.lk-members .lk-members__nav li.__gVisited').hasClass('active')) {\r\n//                     __gtm('VisitedUpload', 'click', 'LKmembers');\r\n//                 }\r\n//             });\r\n//\r\n//             //Страница \"Избранное\"\r\n//\r\n//             $(\".lk-body .event-card.__gFavorite .remove\").click(function(){\r\n//                 __gtm('Delate', 'click', 'Favorites');\r\n//             });\r\n//\r\n//             //Страница \"Мероприятие\"\r\n//\r\n//             $('.jsEventGallery a.event-page-gallery__photo, .jsSliderEventGallery .swiper-slide a').click(function(){\r\n//                 __gtm('Gallery', 'click', 'Event');\r\n//             });\r\n//\r\n//             $('.jsEventSubscribeToggle').click(function(){\r\n//                 if ($('.jsEventSubscribe').hasClass('active')) {\r\n//                     __gtm('Singup', 'click', 'Event');\r\n//                 }\r\n//             });\r\n//\r\n//             $('.jsEventShareToggle').click(function(){\r\n//                 if ($('.jsEventShare').hasClass('active')) {\r\n//                     __gtm('Share', 'click', 'Event');\r\n//                 }\r\n//             });\r\n//\r\n//             $('.jsModalPageGo').on('show.bs.modal', function (e) {\r\n//                 __gtm('Singup', 'click', 'Event');\r\n//             });\r\n//\r\n//             $('.jsModalPageShare').on('show.bs.modal', function (e) {\r\n//                 __gtm('Share', 'click', 'Event');\r\n//             });\r\n//\r\n//             $('.jsEventCardShare a').click(function(){\r\n//                 __gtm('Share', 'click', 'Event');\r\n//             });\r\n//\r\n//             //Тесты\r\n//\r\n//             $('.category .grid-stack-item a.category__item').click(function(){\r\n//                 __gtm('OpenTest', 'click', 'tests');\r\n//             });\r\n//\r\n//             $('.nav__list .nav__item a').click(function(){\r\n//                 __gtm('FilterTests', 'click', 'tests');\r\n//                 if ($(this).attr('data-filter') === '*') {\r\n//                     __gtm('AllTests', 'click', 'tests');\r\n//                 }\r\n//             });\r\n//\r\n//             $('.test__inner .test-start__social li a').click(function(){\r\n//                 if ($(this).hasClass('vk')) {\r\n//                     __gtm('ShareVK', 'click', 'test');\r\n//                 } else if ($(this).hasClass('fb')) {\r\n//                     __gtm('ShareFB', 'click', 'test');\r\n//                 } else if ($(this).hasClass('ok')) {\r\n//                     __gtm('ShareOK', 'click', 'test');\r\n//                 }\r\n//             });\r\n//\r\n//             $('.test__inner .test-start .test-start__button button').click(function(){\r\n//                 var test_id = $(this).parents('.test').attr('data-test-id');\r\n//                 __gtm('Start-' + test_id, 'click', 'tests');\r\n//             });\r\n//\r\n//             $('.test__inner .test-finish .test-finish__button button.button-update').click(function(){\r\n//                 __gtm('Again', 'click', 'tests');\r\n//             });\r\n//\r\n//             $('.test__inner .test-finish .test-finish__button a.button').click(function(){\r\n//                 __gtm('Choose', 'click', 'tests');\r\n//             });\r\n//\r\n//             $('.test__inner .test-finish__social li a').click(function(){\r\n//                 if ($(this).hasClass('vk')) {\r\n//                     __gtm('ShareVK', 'click', 'testresults');\r\n//                 } else if ($(this).hasClass('fb')) {\r\n//                     __gtm('ShareFB', 'click', 'testresults');\r\n//                 } else if ($(this).hasClass('ok')) {\r\n//                     __gtm('ShareOK', 'click', 'testresults');\r\n//                 }\r\n//             });\r\n//\r\n//             //Редизайн\r\n//\r\n//             $('.event-card .event-card-subscribe a.event-card-subscribe__button').click(function(){\r\n//                 __gtm('FastRegist', 'click', 'Event');\r\n//                 dataLayer.push({\r\n//                     'event': 'event',\r\n//                     'event_category': 'FastRegist',\r\n//                     'event_action': 'click',\r\n//                     'event_label': 'Event'\r\n//                 });\r\n//             });\r\n//\r\n//             $('.test__inner .test-finish__social li a').click(function(){\r\n//                 var test_id = $(this).parents('.test').attr('data-test-id');\r\n//                 if ($(this).hasClass('vk')) {\r\n//                     __gtm('ShareVK', 'click', 'testresults-' + test_id);\r\n//                 } else if ($(this).hasClass('fb')) {\r\n//                     __gtm('ShareFB', 'click', 'testresults-' + test_id);\r\n//                 } else if ($(this).hasClass('ok')) {\r\n//                     __gtm('ShareOK', 'click', 'testresults-' + test_id);\r\n//                 }\r\n//             });\r\n//\r\n//             $('.test__inner .test-start__social li a').click(function(){\r\n//                 var test_id = $(this).parents('.test').attr('data-test-id');\r\n//                 if ($(this).hasClass('vk')) {\r\n//                     __gtm('ShareVK', 'click', 'test-' + test_id);\r\n//                 } else if ($(this).hasClass('fb')) {\r\n//                     __gtm('ShareFB', 'click', 'test-' + test_id);\r\n//                 } else if ($(this).hasClass('ok')) {\r\n//                     __gtm('ShareOK', 'click', 'test-' + test_id);\r\n//                 }\r\n//             });\r\n//\r\n//             //Документы\r\n//\r\n//             $('.lk .doc .doc__list li a').click(function () {\r\n//                 let doc_title = $(this).text();\r\n//                 __gtm('Doc-' + doc_title, 'download', 'LKevents');\r\n//             });\r\n//\r\n//             $('.lk .doc .doc__button a').click(function () {\r\n//                 __gtm('DocAll', 'download', 'LKevents');\r\n//             });\r\n//\r\n//             //Дополнительные события от 17.04.2019\r\n//\r\n//             $('.jsModalCountryConfirm .jsModalCountryConfirmListToggle').click(function () {\r\n//                 __gtm('CountryСhange', 'click', 'MapHi');\r\n//             });\r\n//\r\n//             $('.jsModalCountryConfirm .modal-lang__buttons a').click(function () {\r\n//                 __gtm('Сonfirm', 'click', 'MapHi');\r\n//             });\r\n//\r\n//             $('.jsModalCountryConfirm .modal-lang__title2 li a').click(function () {\r\n//                 __gtm('Country', 'click', 'MapHi');\r\n//             });\r\n//\r\n//             $('.jsLangToggle').click(function () {\r\n//                 __gtm('LangToggle', 'click', 'MapHi');\r\n//             });\r\n//\r\n//             $('.jsLandingMapItem .lk-landing-lk__button').click(function () {\r\n//                 __gtm('LkLogin', 'click', 'MapHi');\r\n//             });\r\n//\r\n//             $('.jsFilterStatusRadioButton').click(function () {\r\n//                 var filterName = $(this).attr('name');\r\n//                 if (filterName === 'status[1]') {\r\n//                     __gtm('FilterActual', 'click', 'Map');\r\n//                 } else if (filterName === 'status[2]') {\r\n//                     __gtm('FilterPast', 'click', 'Map');\r\n//                 } else if (filterName === 'status[3]') {\r\n//                     __gtm('FilterReport', 'click', 'Map');\r\n//                 }\r\n//\r\n//             });\r\n//\r\n//             $('.__gFilterFormatRadioButton').click(function () {\r\n//                 var filterName = $(this).attr('name');\r\n//\r\n//                 if (filterName === 'format[2]') {\r\n//                     __gtm('FilterMC', 'click', 'Map');\r\n//                 } else if (filterName === 'format[3]') {\r\n//                     __gtm('FilterClubs', 'click', 'Map');\r\n//                 } else if (filterName === 'format[4]') {\r\n//                     __gtm('FilterFestivals', 'click', 'Map');\r\n//                 } else if (filterName === 'format[5]') {\r\n//                     __gtm('FilterOpenDays', 'click', 'Map');\r\n//                 } else if (filterName === 'spo') {\r\n//                     __gtm('FilterSPO', 'click', 'Map');\r\n//                 }\r\n//             });\r\n//\r\n//             $('.jsMapMoreEvents').click(function () {\r\n//                 __gtm('ShowMore', 'click', 'Map');\r\n//             });\r\n//\r\n//             $('.event-page .map-event-head__back').click(function () {\r\n//                 var eventId = $(this).attr('data-event-id');\r\n//                 __gtm('Back', 'click', 'Event-' + eventId);\r\n//             });\r\n//\r\n//             $('.__gSidebarEvents').click(function () {\r\n//                 __gtm('Events', 'click', 'LK');\r\n//             });\r\n//\r\n//             $('.__gSidebarFavorites').click(function () {\r\n//                 __gtm('Favorites', 'click', 'LK');\r\n//             });\r\n//\r\n//             $('.__gSidebarParticipants').click(function () {\r\n//                 __gtm('Participants', 'click', 'LK');\r\n//             });\r\n//\r\n//             $('.__gSidebarPersonal').click(function () {\r\n//                 __gtm('Personal', 'click', 'LK');\r\n//             });\r\n//\r\n//             $('.__gSidebarDoc').click(function () {\r\n//                 __gtm('Doc', 'click', 'LK');\r\n//             });\r\n//\r\n//             $('.__gLkSwitchActual').click(function () {\r\n//                 __gtm('FilterActual', 'click', 'LKevents');\r\n//             });\r\n//\r\n//             $('.__gLkSwitchPast').click(function () {\r\n//                 __gtm('FilterPast', 'click', 'LKevents');\r\n//             });\r\n//\r\n//             $('.eventPublicate').click(function () {\r\n//                 __gtm('Post', 'click', 'LKevents');\r\n//             });\r\n//\r\n//             $('.lk-deleted-content .lk-deleted-content__button').click(function () {\r\n//                 __gtm('CreateEvent', 'click', 'EventDel');\r\n//             });\r\n//\r\n//             $('.__gPersonalFormInputEnableEmail').click(function () {\r\n//                 __gtm('ChangeEmail', 'click', 'LKpersonal');\r\n//             });\r\n//\r\n//             $('.__gPersonalFormInputEnablePhone').click(function () {\r\n//                 __gtm('ChangeTel', 'click', 'LKpersonal');\r\n//             });\r\n//\r\n//             $('.personal__button').click(function () {\r\n//                 __gtm('Save', 'click', 'LKpersonal');\r\n//             });\r\n//\r\n//             $('.personal-events__button').click(function () {\r\n//                 __gtm('Events', 'click', 'LKpersonal');\r\n//             });\r\n//\r\n//             $('.footer .fb').click(function () {\r\n//                 __gtm('fb', 'click', 'Footer');\r\n//             });\r\n//\r\n//             $('.footer .vk').click(function () {\r\n//                 __gtm('vk', 'click', 'Footer');\r\n//             });\r\n//\r\n//             $('.footer .ok').click(function () {\r\n//                 __gtm('ok', 'click', 'Footer');\r\n//             });\r\n//\r\n//             $('.footer .in').click(function () {\r\n//                 __gtm('ig', 'click', 'Footer');\r\n//             });\r\n//\r\n//             $('.footer .yt').click(function () {\r\n//                 __gtm('yt', 'click', 'Footer');\r\n//             });\r\n//\r\n//         }\r\n//\r\n//         var timer = setInterval(jQueryReady, 1000);\r\n//     })(),\r\n//\r\n//     homepageGTM = (function(){\r\n//         var jQueryReady = function() {\r\n//             if (typeof $ !== 'function') return;\r\n//             clearInterval(timer);\r\n//\r\n//             //Меню\r\n//\r\n//             $('.__gHubMain .header-global__list li a, .__gHubMain .header-global__slider .swiper-slide a').click(function () {\r\n//                 let menu_item = $(this).text();\r\n//                 let title = $.trim(menu_item);\r\n//                 __gtm('main', 'click', 'menu-' + title);\r\n//             });\r\n//\r\n//             //Главный слайдер\r\n//\r\n//             $('.__gHubMain .main-slider .main-slider__button a').click(function () {\r\n//                 let title_news = $(this).parents('.main-slider__content').find('.main-slider__title').text();\r\n//                 __gtm('main-news', 'click', 'more-' + title_news);\r\n//             });\r\n//\r\n//             //Книга красоты\r\n//\r\n//             $('.__gHubMain .main-book').click(function () {\r\n//                 __gtm('main', 'click', 'book');\r\n//             });\r\n//\r\n//             //Правое боковое меню\r\n//\r\n//             $('.__gHubMain .main-side-control__subscribe').click(function () {\r\n//                 __gtm('main', 'click', 'subscribe');\r\n//             });\r\n//\r\n//             $('.__gHubMain .main-side-control__social li a').click(function () {\r\n//                 if ($(this).hasClass('vk')) {\r\n//                     __gtm('main', 'click', 'vk');\r\n//                 } else if ($(this).hasClass('yt')) {\r\n//                     __gtm('main', 'click', 'yt');\r\n//                 } else if ($(this).hasClass('ok')) {\r\n//                     __gtm('main', 'click', 'ok');\r\n//                 } else if ($(this).hasClass('in')) {\r\n//                     __gtm('main', 'click', 'ig');\r\n//                 } else if ($(this).hasClass('fb')) {\r\n//                     __gtm('main', 'click', 'fb');\r\n//                 }\r\n//             });\r\n//\r\n//             //Главные новости\r\n//\r\n//             $('.__gHubMain .main-news__item a').click(function () {\r\n//                 let title = $(this).find('.main-news__title').text();\r\n//                 __gtm('main-topic', 'click', 'topic-' + title);\r\n//             });\r\n//\r\n//             //Блок Сегодня\r\n//\r\n//             $('.__gHubMain .__gGridMap, .__gHubMain.mobile .main-grid-item_zoom').click(function () {\r\n//                 __gtm('main-today', 'click', 'bar_map');\r\n//             });\r\n//\r\n//             $('.__gHubMain .main-grid .main-grid-item_magic').click(function () {\r\n//                 let title = $(this).find('.__gGridItemTitle').text();\r\n//                 __gtm('main-today', 'click', 'bar-' + title);\r\n//             });\r\n//\r\n//             $('.__gHubMain .jsSliderVideoGallery .main-video__player, .__gHubMain.mobile .jsSliderVideoGalleryMobile .main-video__player').click(function () {\r\n//                 let title = $(this).attr('data-title');\r\n//                 __gtm('main-today', 'click', 'video-' + title);\r\n//             });\r\n//\r\n//             $('.__gHubMain .jsSliderVideoThumbs .main-video__thumb').click(function () {\r\n//                 let title = $(this).find('.main-video__thumb-title').text();\r\n//                 __gtm('main-today', 'click', 'video-' + title);\r\n//             });\r\n//\r\n//             //Олапик\r\n//\r\n//             $(document).on('click', '.olapic-item', function() {\r\n//                 __gtm('main-olapic', 'click', 'photo');\r\n//             });\r\n//\r\n//             $('.__gHubMain .main-olapic__button a').click(function () {\r\n//                 __gtm('main-olapic', 'click', 'more');\r\n//             });\r\n//\r\n//             //Лайфстайл\r\n//\r\n//             $('.__gHubMain a.lifestyle-block').click(function () {\r\n//                 let title = $(this).find('.lifestyle-block__title').text();\r\n//                 __gtm('main-lifestyle', 'click', 'bar-' + title);\r\n//             });\r\n//\r\n//             //Продукты\r\n//\r\n//             $('.__gHubMain .main-products a.main-products__item').click(function () {\r\n//                 let title = $(this).find('.main-products__title').text();\r\n//                 __gtm('main-products', 'click', 'product-' + title);\r\n//             });\r\n//\r\n//             $('.__gHubMain .main-products .main-products__more a').click(function () {\r\n//                 __gtm('main-products', 'click', 'more');\r\n//             });\r\n//\r\n//             $('.__gHubMain .footer__social li a').click(function () {\r\n//                 if ($(this).hasClass('vk')) {\r\n//                     __gtm('main-footer', 'click', 'vk');\r\n//                 } else if ($(this).hasClass('yt')) {\r\n//                     __gtm('main-footer', 'click', 'yt');\r\n//                 } else if ($(this).hasClass('ok')) {\r\n//                     __gtm('main-footer', 'click', 'ok');\r\n//                 } else if ($(this).hasClass('in')) {\r\n//                     __gtm('main-footer', 'click', 'ig');\r\n//                 } else if ($(this).hasClass('fb')) {\r\n//                     __gtm('main-footer', 'click', 'fb');\r\n//                 }\r\n//             });\r\n//         };\r\n//\r\n//         var timer = setInterval(jQueryReady, 1000);\r\n//\r\n//     })();\n\n\n// WEBPACK FOOTER //\n// ./scripts.js"],"sourceRoot":""}